<h1>Создать новый тест</h1>

<%= form_with(model: @test, data: { turbo: false }) do |form| %>
  
  <% if @test.errors.present? %>
    <div>
      <h2>Обнаружены ошибки в кол-ве: <%= @test.errors.count%></h2>
      <ul>
        <% @test.errors.full_messages.each do |messages| %>
          <li><%= messages %></li>
        <% end %>  
      </ul>
    </div>
  <% end %>

  <p>
    <%= form.label 'Название теста' %>
    <%= form.text_field :title %>
  </p>

  <p>
    <%= form.label 'Уровень теста' %>
    <%= form.number_field :level, in: 0..4, min: 0, max: 4 %>
  </p>

  <p>
    <%= form.label 'Выберите категорию вопроса' %>
    <%= form.collection_select :category_id, Category.all, :id, :title, prompt: true %>
  </p>

  <p>
    <%= form.label :user_id %>
    <%= form.collection_select :user_id, User.all, :id, :name, prompt: true %>
  </p>

  <p><%= form.submit %></p>
<% end %>